version: "3"

enum SensorState {
    Inactive = 0,
    Active = 1,
    Error = 2,
}

struct Msg {
    s1 @0: u8,
    s2 @1: u16,
}

struct SensorInformation {
    result @0: u8,
}

struct TemperatureResponse {
    result @0: u8,
}

struct SensorReq {
    request_id @0: u8,
}

service StateService @0 {
    method RequestState(SensorReq) @0 returns SensorInformation,
}

service TemperatureService @1 {
    method GetTemperature(SensorReq) @1 returns TemperatureResponse,
}

device ecu {
    protocol can {
        impl Msg { id: 10, },
        rpc { request_id: 1025, response_id: 1026, },
        services: [StateService, TemperatureService],
    },
}
