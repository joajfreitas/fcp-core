version: "3"

struct Pedals {
    acc_pos @0: u8 | unit("%"),
    brake_pos @1: u8 | unit("%"),
}

struct Shutdown {
    error @0: u8,
}

struct Button {
    press @0: u8,
}

device ecu {
    protocol can {
        impl Pedals {
            id: 10,
            period: 15, /* Period in milliseconds */
        }

        impl Shutdown {
            id: 11,
            period: 20,
        }

        impl Button {
            id: 12,
            period: -1,
        }
    }
}
